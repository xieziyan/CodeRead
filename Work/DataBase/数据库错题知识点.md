# 数据库错题知识点


----------


##  数据库系统的三级模式不包括（ ）。 


外模式
外模式又称子模式或用户模式，对应于用户级。它是某个或某几个用户所看到的数据库的数据视图，是与某一应用有关的数据的逻辑表示。外模式是从模式导出的一个子集，包含模式中允许特定用户使用的那部分数据。用户可以通过外模式描述语言来描述、定义对应于用户的数据记录(外模式)，也可以利用数据操纵语言(Data Manipulation Language，DML)对这些数据记录进行操作。外模式反映了数据库的用户观。

概念模式
模式又称概念模式或逻辑模式，对应于概念级。它是由数据库设计者综合所有用户的数据，按照统一的观点构造的全局逻辑结构，是对数据库中全部数据的逻辑结构和特征的总体描述，是所有用户的公共数据视图(全局视图)。它是由数据库管理系统提供的数据模式描述语言(Data Description Language，DDL)来描述、定义的，体现、反映了数据库系统的整体观。

内模式
内模式又称存储模式，对应于物理级，它是数据库中全体数据的内部表示或底层描述，是数据库最低一级的逻辑描述，它描述了数据在存储介质上的存储方式和物理结构，对应着实际存储在外存储介质上的数据库。内模式由内模式描述语言来描述、定义，它是数据库的存储观。
在一个数据库系统中，只有唯一的数据库， 因而作为定义 、描述数据库存储结构的内模式和定义、描述数据库逻辑结构的模式，也是唯一的，但建立在数据库系统之上的应用则是非常广泛、多样的，所以对应的外模式不是唯一的，也不可能是唯一的。 

## 数据库的范式

第一范式要求元组的每个分量必须是不可分的数据项。

第二范式要求在第一范式基础上每一个非主属性完全函数依赖于码。

第三范式要求在第二范式基础上每一个非主属性不传递依赖于码。

Boyce-Codd范式要求在第一范式基础上对于每一个非平凡的函数依赖X-Y都有X包含码。

第四范式要求在第一范式基础上对于每一个非平凡的多值依赖X→→Y(Y不是X的子集)都有X包含码。

因此，消除了部分函数依赖的1NF关系模式属于2NF。


## transact-SQL   函数
transact-SQL   函数只  YEAR() 、 MONTH()、DAY()，参数为日期，返回值为int型变量

## 不同模型的实现

A：关系模型，关系模型用表的集合来表示数据和数据间的联系。每个表有多个列，每列有唯一的列名。在关系模型中，无论是从客观事物中抽象出的实体，还是实体之间的联系，都用单一的结构类型--关系表示。

B：层次模型，满足以下两个条件的基本层次联系的集合：(1)有且只有一个节点没有双亲节点(根节点)；(2)除根节点外的其他节点有且只有一个双亲节点。

C：网状模型，满足以下二个条件的基本层次联系的集合：（1）允许一个以上的结点没有双亲结点；（2）一个结点可以有多个双亲结点。

注意到层次模型和网状模型类似，分别用记录和链接(一般指指针)。 与网状模型不同的是：层次模型中的记录只能组织成树的集合而不能是任意图的集合。

## SQL 语言

ANSI SQL语句分成以下六类（按使用频率排列）：

数据查询语言（DQL）：其语句，也称为“数据检索语句”，用以从表中获得数据，确定数据怎样在应用程序给出。保留字SELECT是DQL（也是所有SQL）用得最多的动词，其他DQL常用的保留字有WHERE，ORDER BY，GROUP BY和HAVING。这些DQL保留字常与其他类型的SQL语句一起使用。 

数据操作语言（DML）:其语句包括动词INSERT，UPDATE和DELETE。它们分别用于添加，修改和删除表中的行。也称为动作查询语言。 

事务处理语言（TPL）：它的语句能确保被DML语句影响的表的所有行及时得以更新。TPL语句包括BEGIN TRANSACTION，COMMIT和ROLLBACK。 

数据控制语言（DCL）：它的语句通过GRANT或REVOKE获得许可，确定单个用户和用户组对数据库对象的访问。某些RDBMS可用GRANT或REVOKE控制对表单个列的访问。 

数据定义语言（DDL）:其语句可在数据库中创建新表（CREAT TABLE）；为表加入索引等。DDL包括许多与人数据库目录中获得数据有关的保留字。它也是动作查询的一部分。 

指针控制语言（CCL）：它的语句，像DECLARE CURSOR，FETCH INTO和UPDATE WHERE CURRENT用于对一个或多个表单独行的操作。 

目前还没有一个商用的RDBMS支持全部的ANSI SQL－92中的所有保留字。例如Jet 3.5数据库引擎不支持任何DCL保留字，而是用Data Accesss Object的计划性安全对象和Visual Basic的保留字及关键字取代。同时Jet 3.5引擎不需支持CCL语句，因为Jet不处理SQL语句中的指针。 

## 数据库的独立性

本题考查的是数据库的独立性。
在数据库技术中，数据独立性是指应用程序和数据之间相互独立，不受影响。
数据独立性分成物理数据独立性和逻辑数据独立性两级。
物理独立性是指用户的应用程序与存储在磁盘上的数据库中数据是相互独立的。
逻辑独立性是指用户的应用程序与数据库的逻辑结构是相互独立的。
由于数据库系统的数据独立性包括数据存储结构与数据逻辑结构的变化两方面，所以选项C和D都不全面。
因为数据的变化而影响应用程序并不能真正反映数据库系统的数据独立性，所以选项A也不正确。
综上所述，答案选B。 

## 存储过程的好处


	1、执行速度更快 ，在数据库中保存的存储过程语句都是编译过的
	2、允许模块化程序设计，类似方法的复用
	3、提高系统的安全性，防止SQL注入
	4、 减少网络流通量，只需要传输存储过程的名称



## SQL 语言的功能：

	数据查询（DQL）：select
	
	数据定义（DDL）：create,drop,alter
	
	数据操纵（DML）：insert,update,delete
	
	数据控制（DCL）：grant,revoke


## 绑定变量

绑定变量是相对文本变量来讲的,所谓文本变量是指在SQL直接书写查询条件，这样的SQL在不同条件下需要反复解析,绑定变量是指使用变量来代替直接书写条件，查询bind value在运行时传递，然后绑定执行。优点是减少硬解析,降低CPU的争用,节省shared_pool ;缺点是不能使用histogram,sql优化比较困难 


## 数据库的索引学习


		1.聚集索引（主键索引）：在数据库里面，所有行数都会按照主键索引进行排序。
    	2.非聚集索引：就是给普通字段加上索引。
    	3.联合索引：就是好几个字段组成的索引，称为联合索引。

## 元组

元组（tuple）是关系数据库中的基本概念，关系是一张表，表中的每行（即数据库中的每条记录）就是一个元组，每列就是一个属性。 在二维表里，元组也称为行。